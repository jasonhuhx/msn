<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>my ext popup page</title>
  </head>

  <body class="bg-gray-100 min-w-[300px] min-h-[200px] p-4 font-sans" x-data="popup">
    <div class="flex items-center" >
      <h1 class="text-2xl flex-1 font-extrabold italic text-lime-800">
        msn
        <span class="text-gray-500 text-sm">Money Sync to Notion</span>
      </h1>
      <button 
        @click="onOpenSettings"
      class="text-lime-800 border border-lime-800 hover:bg-lime-800 hover:text-white focus:ring-2 focus:outline-none focus:ring-lime-600 font-medium rounded-full text-sm p-0.5 text-center inline-flex items-center dark:border-lime-500 dark:text-lime-500 dark:hover:text-white dark:focus:ring-lime-800 dark:hover:bg-lime-500">
        <svg class="w-6 h-6" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13v-2a1 1 0 0 0-1-1h-.757l-.707-1.707.535-.536a1 1 0 0 0 0-1.414l-1.414-1.414a1 1 0 0 0-1.414 0l-.536.535L14 4.757V4a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v.757l-1.707.707-.536-.535a1 1 0 0 0-1.414 0L4.929 6.343a1 1 0 0 0 0 1.414l.536.536L4.757 10H4a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h.757l.707 1.707-.535.536a1 1 0 0 0 0 1.414l1.414 1.414a1 1 0 0 0 1.414 0l.536-.535 1.707.707V20a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-.757l1.707-.708.536.536a1 1 0 0 0 1.414 0l1.414-1.414a1 1 0 0 0 0-1.414l-.535-.536.707-1.707H20a1 1 0 0 0 1-1Z"/>
        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/>
      </svg>
        </button>
    </div>
    
    <hr class="h-px my-2 bg-gray-300 border-0 dark:bg-gray-700">
    <div id="amount" class="space-y-2" 
    @on-error.window="errorHandling"
    @after-update.window="afterUpdate" 
    @on-loading.window="onLoading"
     >
      <template x-if="error">
        <p class="text-red-500 text-sm" x-text="error"></p>
      </template>
      <p x-show="isLoading" x-transition
      class="text-gray-500 text-sm text-center">Loading...</p>
      <ul>
        <template x-show="filteredAccts" x-transition 
        x-for="account in filteredAccts">
          <li>
            <div class="flex items-center justify-between p-2 bg-white rounded shadow mb-2">
              <div class="flex items-center">
                <span class="text-gray-700 font-semibold" x-text="account.name"></span>
              </div>
              <span class="text-gray-500" x-text="account.balance"></span>
          </li>
        </template>
      </ul>
      <div class="flex flex-col justify-end mt-6">
        <button @click="onSync" x-text="syncBtnText" class="btn-primary w-full py-2 px-6 text-lg">
        </button>
        <span class="font-mono text-sm font-semibold text-theme"
                    >database://"<span x-text="selectedDatabaseName"></span>"</span
                  >
      </div>
    </div>
    
    <script type="module" src="index.ts"></script>
  </body>
</html>
